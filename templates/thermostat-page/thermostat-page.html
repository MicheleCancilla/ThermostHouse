{% extends "main.html" %}

{% block title %}My thermostats{% endblock %}

{% block content %}
    <div class="container col-lg-12">
        <div class=" col-lg-8"><h2>I miei termostati:</h2></div>
        <div class=" col-lg-4">
            <a class="btn btn-primary" href="/create_thermostat">Inserisci un termostato</a>
        </div>

        {% if thermostats_data %}
            {% for data in thermostats_data %}
                <!-- C'Ã¨ un utente autenticato, il suo impianto lo visualizzo per primo (indipendentementee dalla ricerca) -->
                <div class="form-horizontal col-lg-10"
                     action="/set_thermostat" method="get"
                     style="border: 2px solid black">

                    <strong>Nome:</strong>
                    <span>
                {% if data.name == None %}
                    -
                {% else %}
                    {{ data.name }}
                {% endif %}
                 </span>

                    <strong>Indirizzo:</strong>
                    <span>
                {% if data['house.street'] == None %}
                    -
                {% else %}
                    Via {{ data['house'].street }} {{ data['house'].number }},
                    {{ data['house'].zip_code }}, {{ data['house'].city }},
                    {{ data['house'].province }}, {{ data['house'].region }}
                {% endif %}
                 </span>

                    <strong>Temperatura</strong>
                    <span>
                {% if data['temperature'] == None %}
                    -
                {% else %}
                    {{ data['temperature'] }}
                {% endif %}
                 </span>

                    <strong>Isteresi:</strong>
                    <span>
                {% if data['hysteresis'] == None %}
                    -
                {% else %}
                    {{ data['hysteresis'] }}
                {% endif %}
                 </span>
                    {#            <p>#}
                    {#                <strong>Descrizione:</strong>#}
                    {#                <span>  #}
                    {#                {% if thermostats_data['desc'] == None %}#}
                    {#                     -#}
                    {#                {% else %}#}
                    {#                     {{ thermostats_data['desc'] }}#}
                    {#                {% endif %}#}
                    {#                 </span>#}
                    {#            </p>#}
                    <form action="/delete_thermostat" method="get">
                        <button class="btn btn-danger" type="submit"
                                value="{{ thermostats_data[loop.index0].url_safe_key }}"
                                name="id" style="float: right;">
                            <i class="glyphicon glyphicon-remove">Delete</i>
                        </button>
                    </form>

                    <form action="/set_thermostat" method="get">
                        <button class="btn btn-primary" type="submit"
                                value="{{ thermostats_data[loop.index0].url_safe_key }}"
                                name="id" style="float: right;">
                            Set Thermostat
                        </button>
                    </form>
                </div>

            {% endfor %}
        {% else %}
            <!-- l'utente non ha nessun termostato -->
            <div id="noResult">
                <h1>Non hai nessun termostato.</h1>
            </div>
        {% endif %}
    </div>
    {#    <div class="container">#}
    {#        <div class="col-lg-5">#}
    {#            <div class="row">#}
    {#                <h1>{{ recipe.title }}</h1>#}
    {#            </div>#}
    {##}
    {#            <ul class="square">#}
    {#                {% if recipe.cuisine %}#}
    {#                    <li><h4>Cuisine: {{ recipe.cuisine }}</h4></li>#}
    {#                {% endif %}#}
    {#                {% if recipe.difficulty %}#}
    {#                    <li><h4>Difficulty: {{ recipe.difficulty }}</h4></li>#}
    {#                {% endif %}#}
    {#                <li><h4>Prep Time: {{ recipe.prep_time }}</h4></li>#}
    {#                <li><h4>Cook Time: {{ recipe.cook_time }}</h4></li>#}
    {#            </ul>#}
    {#        </div>#}
    {#        <div class="col-lg-7">#}
    {#            <img src="{{ recipe.photo_url }}=s400" style="width: auto; height: auto;">#}
    {#        </div>#}
    {##}
    {#        <div class="col-lg-5">#}
    {#            <h4>Ingredients:</h4>#}
    {#            <ul class="square">#}
    {#                {% for ingredient in recipe.ingredients %}#}
    {#                    <li>#}
    {#                        {{ ingredient['amount'] if ingredient['amount'] != None }} {{ ingredient['unit'] if ingredient['unit'] != None }} {{ ingredient['ingredient'] if ingredient['ingredient']!= None }}#}
    {#                    </li>#}
    {#                {% endfor %}#}
    {#            </ul>#}
    {#        </div>#}
    {##}
    {#        <div class="col-lg-7">#}
    {#            <h4>Directions to prepare {{ recipe.title }}:</h4>#}
    {#            <ol>#}
    {#                {% for direction in recipe.directions %}#}
    {#                    <li>#}
    {#                        {{ direction }}#}
    {#                    </li>#}
    {#                {% endfor %}#}
    {#            </ol>#}
    {#        </div>#}
    {#    </div>#}
{% endblock %}
